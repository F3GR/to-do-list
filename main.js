(()=>{"use strict";var e,t={293:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(537),n=o.n(r),s=o(645),a=o.n(s)()(n());a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/reset.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const i=a},573:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(537),n=o.n(r),s=o(645),a=o.n(s)()(n());a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/style_interactivity.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const i=a},4:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(537),n=o.n(r),s=o(645),a=o.n(s)()(n());a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/style_layout.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const i=a},188:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(537),n=o.n(r),s=o(645),a=o.n(s)()(n());a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/style_styling.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const i=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",r=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),r&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),r&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,r,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),n&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=n):l[4]="".concat(n)),t.push(l))}},t}},537:e=>{e.exports=function(e){var t=e[1],o=e[3];if(!o)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(n," */");return[t].concat([s]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function o(e){for(var o=-1,r=0;r<t.length;r++)if(t[r].identifier===e){o=r;break}return o}function r(e,r){for(var s={},a=[],i=0;i<e.length;i++){var c=e[i],u=r.base?c[0]+r.base:c[0],l=s[u]||0,d="".concat(u," ").concat(l);s[u]=l+1;var p=o(d),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(g);else{var m=n(g,r);r.byIndex=i,t.splice(i,0,{identifier:d,updater:m,references:1})}a.push(d)}return a}function n(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,n){var s=r(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var i=o(s[a]);t[i].references--}for(var c=r(e,n),u=0;u<s.length;u++){var l=o(s[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}s=c}}},569:e=>{var t={};e.exports=function(e,o){var r=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(o)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var r="";o.supports&&(r+="@supports (".concat(o.supports,") {")),o.media&&(r+="@media ".concat(o.media," {"));var n=void 0!==o.layer;n&&(r+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),r+=o.css,n&&(r+="}"),o.media&&(r+="}"),o.supports&&(r+="}");var s=o.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},969:(e,t,o)=>{var r=o(379),n=o.n(r),s=o(795),a=o.n(s),i=o(569),c=o.n(i),u=o(565),l=o.n(u),d=o(216),p=o.n(d),g=o(589),m=o.n(g),T=o(293),v={};v.styleTagTransform=m(),v.setAttributes=l(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=p(),n()(T.Z,v),T.Z&&T.Z.locals&&T.Z.locals;var h=o(4),f={};f.styleTagTransform=m(),f.setAttributes=l(),f.insert=c().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=p(),n()(h.Z,f),h.Z&&h.Z.locals&&h.Z.locals;var A=o(188),b={};b.styleTagTransform=m(),b.setAttributes=l(),b.insert=c().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=p(),n()(A.Z,b),A.Z&&A.Z.locals&&A.Z.locals;var E=o(573),S={};S.styleTagTransform=m(),S.setAttributes=l(),S.insert=c().bind(null,"head"),S.domAPI=a(),S.insertStyleElement=p(),n()(E.Z,S),E.Z&&E.Z.locals&&E.Z.locals;const y=o.p+"assets/menu.svg",I=o.p+"assets/fav-icon.svg",_=o.p+"assets/view-options.svg",k=o.p+"assets/calendar-all.svg",P=o.p+"assets/calendar-today.svg",N=o.p+"assets/calendar-week.svg",O=o.p+"assets/calendar-overdue.svg",L=o.p+"assets/projects.svg",w=o.p+"assets/add-new.svg",C=o.p+"assets/previous-page.svg",j=o.p+"assets/next-page.svg",R=o.p+"assets/category-job.svg",x=o.p+"assets/category-study.svg",D=o.p+"assets/category-gift.svg",U=o.p+"assets/category-international-activity.svg",M=o.p+"assets/category-people.svg",q=o.p+"assets/category-science.svg",G=o.p+"assets/category-it.svg",V=o.p+"assets/category-other.svg",B=o.p+"assets/close.svg",K=o.p+"assets/calendar-finished.svg",$={sortOrderIconPath:o.p+"assets/arrow-downward.svg",sidebarIconPath:y,logoIconPath:I,viewOptionsIconPath:_,tasksAllImagePath:k,tasksTodayImagePath:P,tasksWeekImagePath:N,tasksOverdueImagePath:O,projectsBarHeaderImagePath:L,addNewTaskIconPath:w,previousPageIconPath:C,nextPageIconPath:j,iconCategoryJobPath:R,iconCategoryStudyPath:x,iconCategoryGiftPath:D,iconCategoryInternationalPath:U,iconCategoryPeoplePath:M,iconCategorySciencePath:q,iconCategoryITPath:G,iconCategoryOtherPath:V,taskMenuExitIconPath:B,tasksCompletedImagePath:K};function J(e,t={},o){const r=document.createElement(e);return Object.entries(t).forEach((([e,t])=>{r.setAttribute(e,t)})),o&&o.appendChild(r),r}function F(e){if(!Array.isArray(e))return void F(["Application error","Heading and/or error message couldn't be found","Process: rendering error modal"]);const t=document.querySelector(".error-modal"),o=t.querySelector(".error-heading"),r=t.querySelector(".error-message"),n=t.querySelector(".error-process"),s=document.querySelector(".error-cover");ee(e[0])?o.textContent=e[0]:o.textContent="Invalid input",t.classList.add("shown"),s.classList.add("shown"),r.textContent=e[1],n.textContent=e[2]}function H(e){if(W(e)){const e=document.querySelector(".menu-cover"),t=document.querySelector(".remove-menu"),o=document.querySelector(".remove-menu .remove-heading"),r=document.querySelector(".remove-menu .remove-message");if(!(Z(e)&&Z(t)&&Z(o)&&Z(r)))return void F(["Application error","One or more menu components couldn't be found","Process: exiting the remove confirmation menu"]);t.classList.remove("shown"),e.classList.remove("shown"),o.textContent="",r.textContent="",t.project=null,t.task=null,t.setAttribute("data-project-id",null),t.setAttribute("data-task-id",null),t.setAttribute("data-task-action",null),t.setAttribute("data-project-action",null)}}const W=e=>"click"===e.type||"keydown"===e.type&&"Enter"===e.code;function X(e){return e instanceof NodeList}function Z(e){return e instanceof HTMLElement||e instanceof Element}function Y(e){return e instanceof Object}function Q(e){return"boolean"==typeof e}function z(e){return null!=e}function ee(e){return null!=e&&""!==e&&!1!==e}function te(e,t,o){const r=e.length;let n=0;for(;n<r;n+=1)if(Number(e[n].id)!==Number(o)&&e[n].name===t)return!1;return!0}function oe(e,t,o){const r=e.length;let n=0;for(;n<r;n+=1)if(Number(e[n].id)!==Number(o)&&e[n].title===t)return!1;return!0}function re(e,t){let o;const r=e.length;let n=0;for(;n<r;n+=1)if(Number(e[n].id)===Number(t)){o=n;break}return o}function ne(e){return new Proxy(e,{get(t,o){if(!e.hasOwnProperty(o))throw new Error(`"${o}" value does not exist in the enum`);return e[o]},set(e,t,o){throw new Error("Cannot add a new value to the enum")}})}const se="all",ae=new ne({ADD_NEW:"add-new",EDIT:"edit",REMOVE:"remove"}),ie=new ne({ADD_NEW:"add-new",EDIT:"edit",UPDATE_STATUS:"update-status",REMOVE:"remove",UNFOLD:"unfold"}),ce={ALL:"all",TODAY:"today",WEEK:"week",COMPLETED:"completed",OVERDUE:"overdue"},ue={DATE:"date",STATUS:"status",PRIORITY:"priority"},le="0",de=new ne({ERROR_MODAL_CONTENT_NOT_FOUND:["Application error","The content couldn't be found","Process: rendering the error modal template"],ERROR_MODAL_BUTTON_EXIT_NOT_FOUND:["Application error","The Exit button couldn't be found","Process: applying events on the error modal"],ERROR_MODAL_HEADING_NOT_FOUND:["Application error","The Heading couldn't be found","Process: applying events on the error modal"],ERROR_MODAL_PARA_NOT_FOUND:["Application error","The Message couldn't be found","Process: applying events on the error modal"],REMOVE_MENU_CONTENT_NOT_FOUND:["Application error","The content couldn't be found","Process: rendering the remove confirmation menu template"],PROJECT_MENU_TEMPLATE_CONTENT_NOT_FOUND:["Application error","The content couldn't be found","Process: rendering the projects menu template"],TASK_MENU_TEMPLATE_CONTENT_NOT_FOUND:["Application error","The content couldn't be found","Process: rendering the tasks menu template"],MAIN_PAGE_CONTENT_NOT_FOUND:["Application error","The content couldn't be found","Process: rendering the main page"],FILTER_OPTIONS_MAIN_NOT_FOUND:["Application error","The main panel couldn't be found","Process: rendering the filter options menu template"],CONTENT_CONTENT_NOT_FOUND:["Application error","One or more core elements of the main page couldn't be found","Process: rendering the content of the main page"]});let pe;function ge(){if(pe)return pe;const e=document.querySelector("aside"),t=document.querySelector(".projects-list"),o=document.querySelector(".task-list"),r=document.querySelector("aside .bar-projects"),n=document.querySelector(".project-menu form"),s=document.querySelector(".project-menu .exit"),a=document.querySelector(".project-menu .cancel"),i=document.querySelector(".project-menu .project-options"),c=document.querySelectorAll(".project-menu .project-options > *"),u=document.querySelectorAll(".project-menu .project-options input"),l=document.querySelector(".project-menu #project-name"),d=document.querySelector(".menu-cover"),p=document.querySelector(".project-menu"),g=document.querySelector(".project-menu .title .title-text"),m=document.querySelector(".project-menu .submit"),T=document.querySelector("main .header img"),v=document.querySelector("main .header h2"),h=document.querySelector(".remove-menu"),f=document.querySelector(".remove-confirm"),A=document.querySelector(".remove-heading"),b=document.querySelector(".remove-message");return pe={allOptions:c,optionsIconsContainer:i,projectsList:t,projectsBar:r,form:n,exitButton:s,cancelButton:a,menuCover:d,menu:p,menuTitle:g,submitButton:m,currentGroupIcon:T,currentGroupName:v,removeMenu:h,removeConfirm:f,removeHeading:A,removeMessage:b,inputsAllOptions:u,inputProjectName:l,sidebar:e,tasksList:o},pe}const me=o.p+"assets/edit.svg",Te=o.p+"assets/delete.svg",ve={newProjectEditImagePath:me,newProjectDeleteImagePath:Te},he=new ne({PROJECT_LIST:"The current project list couldn't be found in the storage",PROJECT_DATA:"The entered project name or icon couldn't be identified",INVALID_INDEX:"The id of the project couldn't be identified",NO_INDEX:"The id of the project couldn't be found in the storage"}),fe=new ne({PROJECT_LIST_PANEL:["Application error","The project list panel couldn't be found","Process: rendering the project"],PROJECT_VALUES:["Application error","One or more of the project values couldn't be found","Process: rendering the project"]}),Ae=new ne({APPLY_EVENTS_PROJECT_MENU_RENDERING:["Application error","One or more menu components couldn't be found","Process: applying events to the projects menu"],SHOWING_DEFAULT_ACTION:["Application error","The project action isn't valid","Process: showing the project menu"],PROJECT_MENU_SHOWING:["Application error","One or more menu components couldn't be found","Process: showing the project menu"],EDITED_PROJECT:["Application error","The edited project and/or its id couldn't be found","Process: showing the project menu"],EDITED_PROJECT_VALUES:["Application error","One or more edited project data values couldn't be found","Process: showing the project menu"],EDITED_PROJECT_URL:["Application error","The icon url source isn't valid","Process: showing the project menu"],ACTION_REMOVING_PROJECT:["Application error",null,"Process: removing the project"],REMOVED_PROJECT_NODES:["Application error","The current group icon and/or heading couldn't be found","Process: showing the project remove confirmation menu"],REMOVED_PROJECT:["Application error","The removed project and/or its id couldn't be found","Process: showing the project remove confirmation menu"],REMOVE_MENU_NODES:["Application error","One or more menu components couldn't be found","Process: removing the project"],REMOVE_MENU_PROJECT:["Application error","The removed project and/or its id couldn't be found","Process: removing the project"],ACTION_SUBMITTING_PROJECT:["Application error",null,"Process: submitting the project"],ACTION_ADDING_PROJECTS_NAV:["Application error","The projects pagination data couldn't be found","Process: submitting the project"],ACTION_SUBMITTING_PROJECT_LIST_PANEL:["Application error","The project list panel couldn't be found","Process: submitting the project"],ACTION_REMOVING_CURRENT_GROUP:["Application error","The current group couldn't be found","Process: removing the project"],ACTION_REMOVING_PROJECTS_NAV:["Application error","The projects pagination and/or the current group data couldn't be found","Process: removing the project"],ACTION_REMOVING_PROJECT_LIST_PANEL:["Application error","The project list panel or projects couldn't be found","Process: removing the project"],ACTION_REMOVING_NO_SIDEBAR:["Application error","The sidebar or the tasks list couldn't be found","Process: removing the project"],SUBMIT_NO_PROJECT_MENU:["Application error","The project menu couldn't be found","Process: submitting the project"],SUBMIT_PROJECT_MENU_SHOWING:["Application error","One or more menu components couldn't be found","Process: submitting the project"],SUBMIT_GROUP_ID:["Application error","The group id couldn't be found","Process: submitting the project"],EDITED_PROJECT_NODES:["Application error","One or more edited project components couldn't be found","Process: updating the edited project element"],EDITED_DATA_VALUES:["Application error","One or more edited project data values couldn't be found","Process: updating the edited project element"],EXITING_PROJECT_MENU_RENDERING:["Application error","One or more menu components couldn't be found","Process: exiting the projects menu"]});function be(e){const{projectsList:t}=ge(),{id:o,name:r,iconURL:n,altText:s}=e;if(!Z(t))return void F(fe.PROJECT_LIST_PANEL);if(!(ee(o)&&ee(r)&&ee(n)&&ee(s)))return void F(fe.PROJECT_VALUES);const a=J("li",{class:"project",tabindex:0},t);a.setAttribute("data-group-id",`${o}`),J("img",{alt:`${s}`,src:`${n}`},a),J("span",{},a).textContent=r;const i=J("button",{class:"edit non-select"},a);i.ariaLabel="Edit project",i.style.backgroundImage=`url(${ve.newProjectEditImagePath})`,i.setAttribute("data-project-action",ae.EDIT);const c=J("button",{class:"remove non-select"},a);c.ariaLabel="Remove project",c.style.backgroundImage=`url(${ve.newProjectDeleteImagePath})`,c.setAttribute("data-project-action",ae.REMOVE)}let Ee;function Se(){if(Ee)return Ee;const e=document.querySelector(".task-list"),t=document.querySelector("aside"),o=document.querySelector("main"),r=document.querySelector(".task-menu form"),n=document.querySelector(".task-menu .exit"),s=document.querySelector(".task-menu .cancel"),a=document.querySelector(".task-menu"),i=document.querySelector(".menu-cover"),c=document.querySelector(".task-menu .title .title-text"),u=document.querySelector(".task-menu .submit"),l=document.querySelector(".task-menu #task-title"),d=document.querySelectorAll(".task-menu .priority input"),p=document.querySelector(".task-menu #task-dueDate"),g=document.querySelector(".task-menu #task-description"),m=document.querySelector(".task-menu #task-notes"),T=document.querySelector(".remove-menu"),v=document.querySelector(".remove-confirm"),h=document.querySelector(".remove-heading"),f=document.querySelector(".remove-message");return Ee={taskList:e,sidebar:t,main:o,form:r,exitButton:n,cancelButton:s,menu:a,menuCover:i,menuTitle:c,submitButton:u,titleInput:l,dueDateInput:p,descriptionInput:g,notesInput:m,removeMenu:T,removeConfirm:v,removeHeading:h,removeMessage:f,allPriorityInputs:d},Ee}const ye={taskOverDueIconPath:o.p+"assets/status-overdue.svg",taskEditIconPath:me,taskRemoveIconPath:Te,taskFoldIconPath:o.p+"assets/fold.svg",taskUnfoldIconPath:o.p+"assets/unfold.svg"},Ie=new ne({TASK_LIST:"The current task list couldn't be found in the storage",TASK_DATA:"One or more task data entries couldn't be identified",DUPLICATE_TASK:"The task with this title already exists!",NO_INDEX:"The id of the task couldn't be found in the storage",EDIT_PROJECT_DATA:"The new project name couldn't be identified"}),_e=new ne({TASK_VALUES:["Application error","One or more of the task values couldn't be found","Process: rendering the task"],TASK_LIST_PANEL:["Application error","Task list panel couldn't be found","Process: rendering the task"]}),ke=new ne({TASK_MENU_RENDERING:["Application error","One or more menu components couldn't be found","Process: applying events on the task menu"],DEFAULT_ACTION:["Application error","Task action isn't valid","Process: applying events on the task menu"],TASK_MENU_SHOWING:["Application error","One or more menu components couldn't be found","Process: showing the task menu"],TASK_MENU_ADD:["Application error","Current project and/or its id couldn't be found","Process: showing the task menu (add)"],NO_TASK_OR_IDS_UPDATE:["Application error","Task panel and/or task and/or project id couldn't be found","Process: updating the task status"],NO_TOGGLE_ICON:["Application error","Toggle icon of the panel couldn't be found","Process: updating the task status"],ACTION_UPDATE_STATUS:["Application error",null,"Process: updating the task status"],ACTION_UPDATE_STATUS_INVALID:["Application error","Status couldn't be updated sucessfully","Process: updating the task status"],NO_TASK_OR_IDS_EDIT_SHOWING:["Application error","Task panel and/or one of its components couldn't be found or isn't valid","Process: showing the task menu (edit)"],EDITED_TASK_PRIORITY_VALUE:["Application error","The tasks priority value isn't valid","Process: showing the task menu (edit)"],NO_TASK_OR_IDS_REMOVE:["Application error","Task panel and/or task and/or project id couldn't be found","Process: showing the task remove confirmation menu (remove)"],TASK_UNFOLD_NODES:["Application error","Task panel and/or its unfolded box couldn't be found","Process: unfolding the task panel"],TASK_MENU_REMOVING:["Application error","Removed task and/or its id and/or project id couldn't be found","Process: removing the task"],TASK_REMOVING:["Application error","Removed task and/or its id and/or project id couldn't be found","Process: removing the task"],ACTION_REMOVING_TASK:["Application error",null,"Process: removing the task"],ACTION_REMOVING_TASKS_LIST:["Application error","The tasks list panel or its data couldn't be found","Process: removing the task"],ACTION_REMOVING_SIDEBAR:["Application error","The sidebar or its data couldn't be found","Process: removing the task"],ACTION_REMOVING_TASKS_NODES:["Application error","The current list of tasks couldn't be found","Process: removing the task"],NO_TASK_MENU_SUBMIT:["Application error","Task menu couldn't be found","Process: submitting the task"],TASK_MENU_PANEL_SUBMIT:["Application error","One or more menu components couldn't be found","Process: submitting the task"],NO_PROJECT_ID_OR_ACTION:["Application error","Action and/or project id and/or current page couldn't be found","Process: submitting the task"],ACTION_ADDING_TASK:["Application error",null,"Process: adding the new task"],TASK_ID_EDITING:["Application error","Task id couldn't be found","Process: submitting the task"],TASK_MENU_PANEL_EDITING:["Application error","One or more menu components couldn't be found","Process: submitting the task"],ACTION_EDITING_TASK:["Application error",null,"Process: editing the task"],TASK_MENU_PANEL_EXITING:["Application error","One or more menu components couldn't be found","Process: exiting the task menu"]});function Pe(e){const{taskList:t}=Se(),{projectId:o,projectName:r,id:n,title:s,dueDate:a,status:i,priority:c,description:u,notes:l}=e;if(!Z(t))return void F(_e.TASK_LIST_PANEL);if(!(ee(o)&&r&&ee(n)&&s&&a&&i&&c))return void F(_e.TASK_VALUES);const d=J("li",{class:"task"},t);d.setAttribute("data-project-id",`${o}`),d.setAttribute("data-task-id",`${n}`),d.setAttribute("data-task-status",`${i}`),d.setAttribute("data-task-priority",`${c}`);const p=J("div",{class:"task-head-box"},d),g=J("div",{class:"task-head-box-one"},p),m=(J("input",{type:"checkbox",id:`status-task-${s}-project-${r}`,class:"status"},g),J("label",{for:`status-task-${s}-project-${r}`,class:"status-checkbox",tabindex:0},g));m.setAttribute("data-task-action",ie.UPDATE_STATUS);const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d","M2,10 L8,16 L18,5");const v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.setAttribute("xmlns","http://www.w3.org/2000/svg"),v.classList.add("status-checkbox"),v.setAttribute("viewBox","0 0 20 20"),v.appendChild(T),m.appendChild(v);const h=J("div",{class:"task-title-box"},g);J("span",{class:"task-title"},h).textContent=`${s}`;const f=J("div",{class:"task-head-box-two"},p),A=J("div",{class:"overdue-box"},f),b=J("img",{src:ye.taskOverDueIconPath,alt:"Task overdue status icon",class:"overdue"},A);"2"===i&&b.classList.add("shown");const E=J("div",{class:"task-due-date"},f);J("span",{class:""},E).textContent=`${a}`;const S=J("button",{class:"edit"},f);S.ariaLabel=`Edit task ${s}, project - ${r}`,S.style.backgroundImage=`url(${ye.taskEditIconPath})`,S.setAttribute("data-task-action",ie.EDIT);const y=J("button",{class:"remove"},f);y.ariaLabel=`Remove task ${s}, project - ${r}`,y.style.backgroundImage=`url(${ye.taskRemoveIconPath})`,y.setAttribute("data-task-action",ie.REMOVE);const I=J("button",{class:"unfold"},f);I.ariaLabel=`Unfold the task's details panel: task ${s}, project - ${r}`,I.style.backgroundImage=`url(${ye.taskUnfoldIconPath})`,I.setAttribute("data-task-action",ie.UNFOLD);const _=J("div",{class:"task-unfold-box"},d),k=J("div",{class:"task-project-name-box"},_);J("span",{class:"task-project-title"},k).textContent="Project: ",J("span",{class:"task-project-name"},k).textContent=`${r}`;const P=J("div",{class:"task-priority-box"},_);J("span",{class:"task-priority-title"},P).textContent="Priority: ",J("span",{class:"task-priority"},P).textContent=`${function(e){switch(e){case"0":return"Normal";case"1":return"Medium";case"2":return"High";default:return}}(c)}`;const N=J("div",{class:"task-description-box"},_);J("span",{class:"task-description-title"},N).textContent="Description: ",J("span",{class:"task-description"},N).textContent=`${u}`;const O=J("div",{class:"task-notes-box"},_);J("span",{class:"task-notes-title"},O).textContent="Notes: ",J("span",{class:"task-notes"},O).textContent=`${l}`}let Ne;function Oe(){if(Ne)return Ne;const e=document.querySelector("main .header h2"),t=document.querySelector("main .header img"),o=document.querySelector("main .task-list"),r=document.querySelector("main .task-bar button.add-new"),n=document.querySelector("aside");return Ne={mainGroupName:e,mainGroupIcon:t,taskList:o,addTaskIcon:r,sidebar:n},Ne}const Le=new ne({TASK_LIST:"Task list and/or group id couldn't be found in the storage",DEFAULT_ID:"The default group id isn't valid"}),we=new ne({CURRENT_GROUP_MAIN:["Application error","The elements of the current group couldn't be found in the main panel","Process: rendering the new group"],ALL_GROUP:["Application error","The 'All group' panel couldn't be found","Process: rendering the new group"],ADD_TASK_ICON:["Application error","The 'Add task' icon couldn't be found","Process: rendering the new group"],CURRENT_GROUP:["Application error","The current group panel couldn't be found","Process: rendering the new group"],CURRENT_GROUP_ELEMENT:["Application error","The name and/or icon element of the current group couldn't be found","Process: rendering the new group"]}),Ce=new ne({NO_SIDEBAR:["Application error","The sidebar couldn't be found","Process: selecting the new group"],NO_GROUP_ID:["Application error","The id of the selected group couldn't be found","Process: selecting the new group"],SIDEBAR_ELEMENTS:["Application error","One or more elements of the sidebar couldn't be be found","Process: applying events on the sidebar"],NEW_GROUP:["Application error",null,"Process: selecting the new group"]});function je(e,t){const{mainGroupName:o,mainGroupIcon:r,taskList:n}=Oe(),s=document.querySelectorAll(".bar-types > *, .projects-list > li.project"),a=document.querySelector(`.bar-types > *[data-group-id="${t}"], \n                                                .projects-list > li.project[data-group-id="${t}"]`),{addTaskIcon:i}=Oe();let c,u;a&&(c=a.querySelector("span"),u=a.querySelector("img")),Z(o)&&Z(r)&&Z(n)?X(s)?Z(i)?(n.innerHTML="",e.forEach((e=>Pe(e))),Object.values(ce).includes(t)?i.classList.remove("shown"):i.classList.add("shown"),s.forEach((e=>e.classList.remove("current"))),a&&(a.classList.add("current"),o.textContent=c.textContent,r.src=u.src,r.alt=u.alt)):F(we.ADD_TASK_ICON):F(we.ALL_GROUP):F(we.CURRENT_GROUP_MAIN)}let Re,xe;const De=new ne({PROJECTS_VALUES:["Application error","Current project count isn't a valid number","Process: rendering the number of projects"],PROJECTS_BAR:["Application error","Projects bar and/or its components couldn't be found","Process: rendering the number of projects"],TASKS_VALUES:["Application error","Current task count isn't a valid number","Process: rendering the number of tasks in the list"],TASKS_BAR:["Application error","Tasks list heading could't be found","Process: rendering the number of tasks in the list"]});function Ue(e){if("number"!=typeof e||NaN===e)return void F(De.PROJECTS_VALUES);const{emptyDiv:t,projectsBarHeader:o}=function(){if(Re)return Re;const e=document.querySelector(".bar-projects > .header > div"),t=document.querySelector(".bar-projects > .header");return Re={emptyDiv:e,projectsBarHeader:t},Re}();if(!Z(t)||!Z(o))return void F(De.PROJECTS_BAR);const r=document.querySelector(".projects-total");Z(r)&&r.remove();const n=document.createElement("span");n.textContent=`(${e})`,n.classList.add("projects-total"),o.insertBefore(n,t)}function Me(e){if("number"!=typeof e||NaN===e)return void F(De.TASKS_VALUES);const{tasksNumberBox:t}=function(){if(xe)return xe;const e=document.querySelector(".task-bar > .task-number");return xe={tasksNumberBox:e},xe}();if(!Z(t))return void F(De.TASKS_BAR);const o=document.querySelector(".tasks-total");Z(o)&&o.remove();const r=document.createElement("span");r.classList.add("tasks-total"),r.textContent=`(${e})`,t.appendChild(r)}let qe,Ge;function Ve(){if(qe)return qe;const e=document.querySelector(".projects-list"),t=document.querySelector(".projects-nav"),o=document.querySelector(".projects-previous-page"),r=document.querySelector(".projects-pages-nums"),n=t.querySelector(".projects-next-page");return qe={projectsList:e,prevPageBtn:o,projectsPageNav:r,nextPageBtn:n,projectsBarFooter:t},qe}function Be(){if(Ge)return Ge;const e=document.querySelector(".task-list"),t=document.querySelector("main > .page-menu"),o=document.querySelector(".tasks-previous-page"),r=document.querySelector(".tasks-pages-nums"),n=t.querySelector(".tasks-next-page");return Ge={tasksList:e,prevPageBtn:o,tasksPageNav:r,nextPageBtn:n,tasksBarFooter:t},Ge}const Ke=new ne({NUM:"Current page isn't a valid number",LIST:"The list couldn't be found in the storage"}),$e=new ne({PROJECTS_VALUES:["Application error","The total number of projects pages and/or current project page isn't a valid number","Process: rendering the projects navigation bar"],PROJECTS_BAR:["Application error","The projects navigation buttons couldn't be found","Process: rendering the projects navigation bar"],PROJECTS_NAV:["Application error","The projects pagination couldn't be found","Process: rendering the projects navigation bar"],PROJECTS_LIST:["Application error","The projects list component couldn't be found","Process: rendering the projects navigation bar"],TASKS_BAR:["Application error","The tasks navigation buttons couldn't be found","Process: rendering the tasks navigation bar"],TASKS_NAV:["Application error","The tasks pagination couldn't be found","Process: rendering the tasks navigation bar"],TASKS_VALUES:["Application error","The total number of projects pages and/or current project page isn't a valid number","Process: rendering the tasks navigation bar"],TASKS_LIST:["Application error","The tasks list component couldn't be found","Process: rendering the tasks navigation bar"]}),Je=new ne({PROJECTS_BAR:["Application error","The projects navigation buttons couldn't be found","Process: applying events on the projects navigation bar"],PROJECTS_LIST:["Application error","The projects list component couldn't be found","Process: applying events on the projects navigation bar"],PROJECTS_NAV:["Application error","The projects pagination data couldn't be found","Process: applying events on the projects navigation bar"],NEXT_PROJECTS_PAGE:["Application error",null,"Process: populating the next projects page"],PREV_PROJECTS_PAGE:["Application error",null,"Process: populating the previous projects page"],TASKS_BAR:["Application error","The tasks navigation buttons couldn't be found","Process: applying events on the tasks navigation bar"],TASKS_LIST:["Application error","The tasks list component couldn't be found","Process: applying events on the tasks navigation bar"],TASKS_NAV:["Application error","The tasks pagination data couldn't be found","Process: applying events on the tasks navigation bar"],NEXT_TASK_PAGE:["Application error",null,"Process: populating the next tasks page"],PREV_TASK_PAGE:["Application error",null,"Process: populating the previous tasks page"]});function Fe(e,t){if("number"!=typeof e||Number.isNaN(e)||"number"!=typeof t||Number.isNaN(t))return void F($e.PROJECTS_VALUES);let o=e;0===e&&(o=1);let r=t;0===t&&(r=1);const{nextPageBtn:n,projectsBarFooter:s,projectsPageNav:a,projectsList:i}=Ve();Z(n)&&Z(s)?Z(a)?Z(i)?(i.setAttribute("current-projects-page",`${o}`),a.textContent=`${o} / ${r}`):F($e.PROJECTS_LIST):F($e.PROJECTS_NAV):F($e.PROJECTS_BAR)}function He(e,t){if("number"!=typeof e||Number.isNaN(e)||"number"!=typeof t||Number.isNaN(t))return void F($e.TASKS_VALUES);let o=e;0===e&&(o=1);let r=t;0===t&&(r=1);const{nextPageBtn:n,tasksBarFooter:s,tasksPageNav:a,tasksList:i}=Be();Z(n)&&Z(s)?Z(a)?Z(i)?(i.setAttribute("current-tasks-page",`${o}`),a.textContent=`${o} / ${r}`):F($e.TASKS_LIST):F($e.TASKS_NAV):F($e.TASKS_BAR)}const We=(e,t)=>{if(W(e)){const o=!e.target.classList.contains("non-select"),r=e.target.closest(".bar-types > *, .projects-list > li.project");if(o&&r&&!r.classList.contains("current")){const{sidebar:e}=Oe();if(!Z(e))return void F(ERR_EVENTS.NO_SIDEBAR);const o=r.getAttribute("data-group-id");if(!ee(o))return void F(ERR_EVENTS.NO_GROUP_ID);let n,s,a;try{n=t.getTasksGroup(o)}catch(e){return void F([ERR_EVENTS.NEW_GROUP[0],e.message,ERR_EVENTS.NEW_GROUP[2]])}try{s=t.getViewState()}catch(e){return void F([ERR_EVENTS.NEW_GROUP[0],e.message,ERR_EVENTS.NEW_GROUP[2]])}try{a=t.applyViewOptions(s,n)}catch(e){return void F([ERR_EVENTS.NEW_GROUP[0],e.message,ERR_EVENTS.NEW_GROUP[2]])}e.setAttribute("current-group",o),je(a,o)}}};let Xe,Ze;function Ye(){if(Xe)return Xe;const e=document.querySelector("button.priority-high"),t=document.querySelector("button.priority-medium"),o=document.querySelector("button.priority-normal"),r=document.querySelector("button.status-ongoing"),n=document.querySelector("button.status-completed"),s=document.querySelector("button.status-overdue"),a=document.querySelector("button.sort-arrow"),i=document.querySelector("input#view-priority-high"),c=document.querySelector("input#view-priority-medium"),u=document.querySelector("input#view-priority-normal"),l=document.querySelector("input#view-status-ongoing"),d=document.querySelector("input#view-status-completed"),p=document.querySelector("input#view-status-overdue"),g=document.querySelector("input#sort-order"),m=document.querySelector("header > .options"),T=document.querySelector(".view-options-bar"),v=document.querySelector(".view-options-bar .select-items"),h=document.querySelectorAll(".view-options-bar .priority-border-box, .view-options-bar .status-border-box, .view-options-bar .sort-arrow");return Xe={buttonPriorityHigh:e,buttonPriorityMedium:t,buttonPriorityNormal:o,buttonStatusOnGoing:r,buttonStatusCompleted:n,buttonStatusOverdue:s,buttonSortAscendingOrder:a,inputPriorityHigh:i,inputPriorityMedium:c,inputPriorityNormal:u,inputStatusOnGoing:l,inputStatusCompleted:d,inputStatusOverdue:p,inputSortAscendingOrder:g,viewOptionsIcon:m,viewBox:T,toggleBoxes:h,customSelectBox:v},Xe}const Qe=new ne({TASK_GROUP:"Current tasks group couldn't be found in the storage",FILTER_VALUES:"One or more of the filter option values isn't valid",SORT_ORDER_VALUE:"The order value of sort option isn't valid",SORT_OPTION_VALUE:"Sort option value isn't valid"}),ze=new ne({OPTIONS_NODES:["Application error","One or more the filter option elements couldn't be found","Process: rendering filtering options menu"],FILTER_VALUES:["Application error","One or more of the filter option values isn't valid","Process: rendering filtering options menu"],SORT_ORDER_VALUE:["Application error","The order value of sort option isn't valid","Process: rendering filtering options menu"],SORT_OPTION_VALUE:["Application error","Sort option value isn't valid","Process: rendering filtering options menu"]}),et=new ne({TASK_LIST_PANEL:["Application error","Task list panel couldn't be found","Process: applying events to the filtering options menu"],OPTIONS_NODES:["Application error","One or more the filter option elements couldn't be found","Process: applying events to the filtering options menu"],FILTER_VALUES:["Application error","One or more of the filter option values isn't valid","Process: applying events to the filtering options menu"],SORT_ORDER_VALUE:["Application error","The order value of sort option isn't valid","Process: applying events to the filtering options menu"],SORT_OPTION_VALUE:["Application error","Sort option value isn't valid","Process: applying events to the filtering options menu"],UPDATING_TASKS_NODE:["Application error",null,"Process: applying the updated view options"]});function tt(e,t,o){const r=document.querySelector(".view-options-bar .custom-select > select");if(W(e)){if("DIV"!==e.target.tagName)return;const n=e.target.getAttribute("value");null!=n&&(r.value=n,rt(t,o))}}function ot(e,t,o){if(W(e)&&e.target.closest(".option-button")){e.stopImmediatePropagation(),e.stopPropagation();const r=e.target.closest(".option-button");if(!r)return;const n=r.firstElementChild;if(!n||"INPUT"!==n.tagName)return;n.checked=!n.checked,r.classList.toggle("enabled"),rt(t,o)}}const rt=(e,t)=>{const o={flagIncludeHigh:null,flagIncludeMedium:null,flagIncludeNormal:null,flagIncludeOverdue:null,flagIncludeOnGoing:null,flagIncludeCompleted:null,sortBy:null,ascendingOrder:null},{taskList:r,inputPriorityHigh:n,inputPriorityMedium:s,inputPriorityNormal:a,inputStatusOverdue:i,inputStatusOnGoing:c,inputStatusCompleted:u,selectSortOptions:l,inputSortAscendingOrder:d}=e;let p;o.flagIncludeHigh=n.checked,o.flagIncludeMedium=s.checked,o.flagIncludeNormal=a.checked,o.flagIncludeOverdue=i.checked,o.flagIncludeOnGoing=c.checked,o.flagIncludeCompleted=u.checked,o.sortBy=l.value,o.ascendingOrder=d.checked;try{p=t.applyViewOptions(o)}catch(e){return void F([et.UPDATING_TASKS_NODE[0],e.message,et.UPDATING_TASKS_NODE[2]])}r.innerHTML="",p.forEach((e=>Pe(e)))};const nt=e=>{e.preventDefault();const{menuCover:t,menu:o,menuTitle:r,submitButton:n,inputsAllOptions:s,inputProjectName:a}=ge();if(!(Z(o)&&Z(t)&&Z(r)&&Z(n)&&X(s)&&Z(a)))return void F(Ae.EXITING_PROJECT_MENU_RENDERING);const i=o.querySelector(".project-options .selected");r.textContent="",n.textContent="",a.value="",s.forEach((e=>{e.checked=!1})),Z(i)&&i.classList.remove("selected"),t.classList.remove("shown"),o.classList.remove("shown"),o.setAttribute("data-project-action",null),o.setAttribute("data-group-id",null),o.setAttribute("data-task-action",null),o.setAttribute("data-task-id",null)},st=e=>{const{currentGroupIcon:t,currentGroupName:o}=ge(),{id:r,name:n,iconURL:s,altText:a}=e,i=document.querySelector(`.project[data-group-id="${r}"] span`),c=document.querySelector(`.project[data-group-id="${r}"] img`),u=document.querySelector(`.project[data-group-id="${r}"]`),l=document.querySelectorAll(`.task[data-project-id="${r}"]`);Z(t)&&Z(o)&&Z(i)&&Z(c)&&Z(u)?ee(r)&&ee(n)&&ee(s)&&ee(a)?(i.textContent=n,c.src=s,c.alt=a,u.classList.contains("current")&&(o.textContent=n,t.src=s,t.alt=a),l&&l.forEach((e=>{e.querySelector(".task-project-name").textContent=n}))):F(Ae.EDITED_DATA_VALUES):F(Ae.EDITED_PROJECT_NODES)};function at(e){const{projectsBar:t,form:o,exitButton:r,cancelButton:n,removeMenu:s,removeConfirm:a,optionsIconsContainer:i,allOptions:c}=ge();function u(e){W(e)&&"DIV"===e.target.tagName&&e.target.classList.contains("project-icon-option")&&(c.forEach((e=>e.classList.remove("selected"))),e.target.querySelector("input").checked=!0,e.target.classList.add("selected"))}Z(t)&&Z(o)&&Z(s)&&Z(a)&&Z(r)&&Z(n)&&Z(i)&&X(c)?(i.addEventListener("click",(e=>u(e))),i.addEventListener("keydown",(e=>u(e))),t.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation(),it(e)})),t.addEventListener("keydown",(e=>{e.stopPropagation(),e.stopImmediatePropagation(),it(e)})),o.addEventListener("submit",(t=>((e,t)=>{e.preventDefault(),e.stopImmediatePropagation();const{menu:o}=ge();if(!Z(o))return void F(Ae.SUBMIT_NO_PROJECT_MENU);((e,t,o)=>{const r=document.querySelector("#project-name"),n=document.querySelector('.project-menu input[name="iconURL"]:checked');if(ee(r.value))if(Z(n)&&ee(n.value)&&ee(n.dataset.altText))switch(t){case ae.ADD_NEW:{const t={name:r.value,iconURL:n.value,altText:n.dataset.altText},{projectsList:s}=ge();if(!Z(s))return void F(Ae.ACTION_SUBMITTING_PROJECT_LIST_PANEL);const a=parseInt(s.getAttribute("current-projects-page"),10);if(!ee(a))return void F(Ae.ACTION_ADDING_PROJECTS_NAV);let i;try{i=o.createNewProject(t,a)}catch(e){return void F([Ae.ACTION_SUBMITTING_PROJECT[0],e.message,Ae.ACTION_SUBMITTING_PROJECT[2]])}const{newProject:c,currentPageLength:u}=i;if(!Y(c))return void F(["Invalid input (project name)","A project with the new name already exists!",""]);u<3&&be(c),nt(e);break}case ae.EDIT:{const{menu:t}=ge(),s=t.getAttribute("data-group-id");if(!t)return void F(Ae.SUBMIT_PROJECT_MENU_SHOWING);if(!s)return void F(Ae.SUBMIT_GROUP_ID);const a={id:s,name:r.value,iconURL:n.value,altText:n.dataset.altText};let i;try{i=o.editProject(a)}catch(e){return void F([Ae.ACTION_SUBMITTING_PROJECT[0],e.message,Ae.ACTION_SUBMITTING_PROJECT[2]])}if(!Y(i))return void F(["Invalid input (project name)","A project with the new name already exists!",""]);st(i),nt(e);break}default:F(Ae.SHOWING_DEFAULT_ACTION)}else F(["Invalid input (project icon)","Please select an icon",""]);else F(["Invalid input (project name)","Please provide a new project's name",""])})(e,o.getAttribute("data-project-action"),t)})(t,e))),a.addEventListener("click",(t=>function(t){if(W(t)){if(!Z(s))return void F(Ae.APPLY_EVENTS_PROJECT_MENU_RENDERING);const o=s.getAttribute("data-project-action");o&&"null"!==o&&(((e,t)=>{const{currentGroupIcon:o,currentGroupName:r,removeMenu:n,removeHeading:s,removeMessage:a,sidebar:i,tasksList:c}=ge();if(!(Z(n)&&Z(s)&&Z(a)&&Z(o)&&Z(r)))return void F(Ae.REMOVE_MENU_NODES);if(!Z(i)||!Z(c))return void F(Ae.ACTION_REMOVING_NO_SIDEBAR);const u=n.project,l=n.getAttribute("data-project-id");if(!Z(u)||!ee(l)||"null"===l)return void F(Ae.REMOVE_MENU_PROJECTS);const{projectsList:d}=ge(),p=d.querySelectorAll(".project");if(!Z(d)||!X(p))return void F(Ae.ACTION_REMOVING_PROJECT_LIST_PANEL);const g=parseInt(d.getAttribute("current-projects-page"),10);let m,T=i.getAttribute("current-group");if(!ee(g)||!ee(T))return void F(Ae.ACTION_REMOVING_PROJECTS_NAV);u.getAttribute("data-group-id")===T&&(T=se);try{m=t.removeProject(l,g,p.length,T)}catch(e){return void F([Ae.ACTION_REMOVING_PROJECT[0],e.message,Ae.ACTION_REMOVING_PROJECT[2]])}const{newTasksPageView:v,newProjectsPageView:h}=m;d.innerHTML="",h.forEach((e=>be(e)));const f=document.querySelector(`.project[data-group-id='${T}'], .bar-types > button[data-group-id='${T}']`);f&&(f.classList.add("current"),r.textContent=f.querySelector("span").textContent,o.src=f.querySelector("img").src,o.alt=f.querySelector("img").alt),c.innerHTML="",je(v,T),i.setAttribute("current-group",T),n.project=null,n.setAttribute("data-project-id",null),n.setAttribute("data-project-action",null),s.textContent="",a.textContent=""})(0,e),H(t))}}(t))),r.addEventListener("click",(e=>{W(e)&&nt(e)})),n.addEventListener("click",(e=>{W(e)&&nt(e)}))):F(Ae.APPLY_EVENTS_PROJECT_MENU_RENDERING)}const it=e=>{if(W(e)&&"BUTTON"===e.target.tagName){e.preventDefault(),e.stopImmediatePropagation();const t=e.target.getAttribute("data-project-action");if(!ee(t))return;ct(t,e.target)}},ct=(e,t)=>{const{menuCover:o,menu:r,menuTitle:n,submitButton:s,removeMenu:a,removeHeading:i,removeMessage:c,inputsAllOptions:u,inputProjectName:l}=ge();if(Z(r)&&Z(o)&&Z(n)&&Z(s)&&Z(a)&&Z(i)&&Z(c)&&Z(l)&&X(u))switch(e){case ae.ADD_NEW:r.setAttribute("data-project-action",e),o.classList.add("shown"),r.classList.add("shown"),n.textContent="Add a new project",s.textContent="Add";break;case ae.EDIT:{const a=t.closest(".project"),i=a.getAttribute("data-group-id");if(!Z(a)||!ee(i))return void F(Ae.EDITED_PROJECT);const c=a.querySelector("span").textContent,d=a.querySelector("img").getAttribute("src");if(!c||!d)return void F(Ae.EDITED_PROJECT_VALUES);let p;for(const e of u)if(e.value===d){p=e;break}const g=p.closest(".project-icon-option");if(!p||!Z(g))return void F(Ae.EDITED_PROJECT_URL);g.classList.add("selected"),l.value=c,p.checked=!0,r.setAttribute("data-project-action",e),r.setAttribute("data-group-id",i),o.classList.add("shown"),r.classList.add("shown"),n.textContent="Edit the project",s.textContent="Save";break}case ae.REMOVE:{const{currentGroupIcon:r,currentGroupName:n}=ge(),s=t.closest(".project"),u=s.getAttribute("data-group-id");if(!Z(r)||!Z(n))return void F(Ae.REMOVED_PROJECT_NODES);if(!Z(s)||!ee(u))return void F(Ae.REMOVED_PROJECT);a.project=s,a.setAttribute("data-project-id",u),a.setAttribute("data-project-action",e),o.classList.add("shown"),a.classList.add("shown"),i.textContent="Remove the project",c.textContent="Are you sure you want to delete the project? All tasks of the project will be removed!";break}default:F(Ae.SHOWING_DEFAULT_ACTION)}else F(Ae.PROJECT_MENU_SHOWING)},ut=e=>{e.preventDefault();const{menu:t,menuCover:o,menuTitle:r,submitButton:n,titleInput:s,allPriorityInputs:a,dueDateInput:i,descriptionInput:c,notesInput:u}=Se();Z(t)&&Z(o)&&Z(r)&&Z(n)&&Z(s)&&X(a)&&Z(i)&&Z(c)&&Z(u)?(r.textContent="",n.textContent="",o.classList.remove("shown"),t.classList.remove("shown"),t.removeAttribute("data-project-action"),t.removeAttribute("data-project-id"),t.removeAttribute("data-task-action"),t.removeAttribute("data-task-id"),s.value="",a.forEach((e=>e.checked=!1)),i.value="",c.value="",u.value=""):F(ke.TASK_MENU_PANEL_EXITING)},lt=e=>{const t=e.querySelector("img.overdue");"2"===e.getAttribute("data-task-status")?t.classList.add("shown"):t.classList.remove("shown")};const dt=(e,t,o)=>{const{menu:r,menuCover:n,menuTitle:s,submitButton:a,removeMenu:i,removeHeading:c,removeMessage:u}=Se();if(!(Z(r)&&Z(n)&&Z(s)&&Z(a)&&Z(i)&&Z(c)&&Z(u)))return void F(ke.TASK_MENU_SHOWING);const l=t.closest(".task");let d,p;switch(Z(l)&&(d=l.getAttribute("data-project-id"),p=l.getAttribute("data-task-id")),e){case ie.ADD_NEW:{const e=document.querySelector(".projects-list .project.current"),t=e.getAttribute("data-group-id");if(!Z(e)||!ee(t))return void F(ke.TASK_MENU_ADD);r.setAttribute("data-project-id",`${t}`),r.setAttribute("data-task-action","add-new"),s.textContent="Add a new task",a.textContent="Add",n.classList.add("shown"),r.classList.add("shown");break}case ie.UPDATE_STATUS:{if(!Z(l)||!ee(d)||!ee(p))return void F(ke.NO_TASK_OR_IDS_UPDATE);const e=t.closest(".task").querySelector("label svg"),r=t.closest(".task").querySelector("label svg path");if(!Z(e)||!Z(r))return void F(ke.NO_TOGGLE_ICON);const n=l.getAttribute("data-task-status");let s;try{s=o.toggleTaskStatus(d,p)}catch(e){return void F([ke.ACTION_UPDATE_STATUS[0],e.message,ke.ACTION_UPDATE_STATUS[2]])}if(n===s)return void F(ke.ACTION_UPDATE_STATUS_INVALID);l.setAttribute("data-task-status",s),lt(l);break}case ie.EDIT:{if(!Z(l)||!ee(d)||!ee(p))return void F(ke.NO_TASK_OR_IDS_EDIT_SHOWING);const{titleInput:e,allPriorityInputs:t,dueDateInput:o,descriptionInput:i,notesInput:c}=Se();if(!(Z(e)&&X(t)&&Z(o)&&Z(i)&&Z(c)))return void F(ke.NO_TASK_OR_IDS_EDIT_SHOWING);const u=l.querySelector(".task .task-title").textContent,g=l.getAttribute("data-task-priority"),m=l.querySelector(".task .task-due-date span").textContent,T=l.querySelector(".task .task-description").textContent,v=l.querySelector(".task .task-notes").textContent;if(!(z(u)&&z(g)&&z(m)&&z(T)&&z(v)))return void F(ke.NO_TASK_OR_IDS_EDIT_SHOWING);let h;for(const e of t)if(e.value===g){h=e;break}if(!h)return void F(ke.EDITED_TASK_PRIORITY_VALUE);h.checked=!0,e.value=u,o.value=m,i.value=T,c.value=v,r.setAttribute("data-project-id",`${d}`),r.setAttribute("data-task-action","edit"),r.setAttribute("data-task-id",`${p}`),s.textContent="Edit the task",a.textContent="Save",n.classList.add("shown"),r.classList.add("shown");break}case ie.REMOVE:if(!Z(l)||!ee(d)||!ee(p))return void F(ke.NO_TASK_OR_IDS_REMOVE);i.task=l,i.setAttribute("data-project-id",d),i.setAttribute("data-task-id",p),i.setAttribute("data-task-action",e),n.classList.add("shown"),i.classList.add("shown"),c.textContent="Remove the task",u.textContent="Are you sure you want to delete the task?";break;case ie.UNFOLD:{const e=t.closest(".task"),o=e.querySelector(".task-unfold-box");if(!Z(e)||!Z(o))return void F(ke.TASK_UNFOLD_NODES);e.classList.contains("unfolded")?(e.classList.remove("unfolded"),o.classList.remove("shown"),e.querySelector(".unfold").ariaLabel="Unfold the task's details panel",t.style.backgroundImage=`url(${ye.taskUnfoldIconPath})`):(e.classList.add("unfolded"),o.classList.add("shown"),e.querySelector(".unfold").ariaLabel="Fold the task's details panel",t.style.backgroundImage=`url(${ye.taskFoldIconPath})`);break}default:F(ke.DEFAULT_ACTION)}};class pt{constructor(e,t,o,r){this.id=String(e),this.name=t,this.iconURL=o,this.altText=r}}class gt{constructor(e,t,o,r,n,s,a,i,c){this.projectId=t,this.title=o,this.dueDate=r,this.priority=n,this.description=s,this.notes=a,this.projectName=i,this.status=c,this.id=String(e)}}const mt=(e,t)=>{const o=new Date-new Date(t);return Math.floor(o/864e5)>0?"2":e},Tt=e=>e.filter((({dueDate:e})=>{const t=new Date(e),o=new Date;return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()})),vt=e=>{const t=new Date;return e.filter((({dueDate:e})=>{const o=new Date(e)-t;return 0===Math.floor(o/6048e5)}))},ht=(e,t)=>e.filter((({status:e})=>e===t)),ft=(e,t)=>e.sort(((e,o)=>{const r=new Date(e.dueDate),n=new Date(o.dueDate);return t?r-n:n-r})),At=(e,t)=>e.sort(((e,o)=>t?o.priority-e.priority:e.priority-o.priority)),bt=(e,t)=>e.sort(((e,o)=>t?o.status-e.status:e.status-o.status)),Et={getProjectsList:()=>{let e=localStorage.getItem("TrackIt: projects-list"),t=!0;return e?(e=JSON.parse(e),{projectsList:e,listStored:t}):(e=[],Et.setProjectsList(e),t=!1,{projectsList:e,listStored:t})},setProjectsList:e=>localStorage.setItem("TrackIt: projects-list",JSON.stringify(e)),addTaskList:e=>localStorage.setItem(`TrackIt: ${e}`,JSON.stringify([])),removeTaskList:e=>localStorage.removeItem(`TrackIt: ${e}`),getProjectId:()=>localStorage.getItem("TrackIt: current-project-id"),setProjectId:e=>localStorage.setItem("TrackIt: current-project-id",e),getTaskId:()=>localStorage.getItem("TrackIt: current-task-id"),setTaskId:e=>localStorage.setItem("TrackIt: current-task-id",e),getTasksListByProjectId:e=>{const t=localStorage.getItem(`TrackIt: ${e}`);return JSON.parse(t)},setTasksListByProjectId:(e,t)=>localStorage.setItem(`TrackIt: ${e}`,JSON.stringify(t)),getAllTasks:()=>{const{projectsList:e}=Et.getProjectsList(),t=e.map((({id:e,name:t,iconURL:o})=>({id:e})));console.log("Array of project Id's:",t);const o=t.flatMap((({id:e})=>Object.values(Et.getTasksListByProjectId(e))));return console.log("Array of all tasks:",o),o},getProjectName:e=>{const{projectsList:t}=Et.getProjectsList();return t.find((t=>Number(t.id)===Number(e))).name},getCurrentGroupIdentifier:()=>{const e=localStorage.getItem("TrackIt: current-group");if(!e){const e="all";return Et.setCurrentGroupIdentifier(e),e}return e},setCurrentGroupIdentifier:e=>localStorage.setItem("TrackIt: current-group",e),getViewState:()=>{const e=localStorage.getItem("TrackIt: view-state");return e?JSON.parse(e):{flagIncludeHigh:!0,flagIncludeMedium:!0,flagIncludeNormal:!0,flagIncludeOnGoing:!0,flagIncludeCompleted:!0,flagIncludeOverdue:!0,sortBy:"date",ascendingOrder:!0}},setViewState:e=>localStorage.setItem("TrackIt: view-state",JSON.stringify(e))},St=e=>({movePageForward:(t,o)=>{if("number"!=typeof t)throw new Error(Ke.NUM);if(!Array.isArray(o))throw new Error(Ke.LIST);let r=t;return t<St(e).pagesTotal(o)&&(r+=1),{newPage:St(e).getPageItems(r,o),newPageNumber:r}},movePageBackwards:(t,o)=>{if("number"!=typeof t)throw new Error(Ke.NUM);if(!Array.isArray(o))throw new Error(Ke.LIST);let r=t;return t>1&&(r-=1),{newPageNumber:r,newPage:St(e).getPageItems(r,o)}},getPageItems:(t,o)=>{if("number"!=typeof t)throw new Error(Ke.NUM);if(!Array.isArray(o))throw new Error(Ke.LIST);const r=(t-1)*e,n=r+e;return o.slice(r,n)},pagesTotal:t=>{if(!Array.isArray(t))throw new Error(Ke.LIST);return Math.ceil(t.length/e)}}),yt=St(3),It=St(6);function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function kt(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Pt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Nt(e){Pt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===_t(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ot(e,t){if(Pt(2,arguments),!t||"object"!==_t(t))return new Date(NaN);var o=t.years?kt(t.years):0,r=t.months?kt(t.months):0,n=t.weeks?kt(t.weeks):0,s=t.days?kt(t.days):0,a=t.hours?kt(t.hours):0,i=t.minutes?kt(t.minutes):0,c=t.seconds?kt(t.seconds):0,u=Nt(e),l=r||o?function(e,t){Pt(2,arguments);var o=Nt(e),r=kt(t);if(isNaN(r))return new Date(NaN);if(!r)return o;var n=o.getDate(),s=new Date(o.getTime());return s.setMonth(o.getMonth()+r+1,0),n>=s.getDate()?s:(o.setFullYear(s.getFullYear(),s.getMonth(),n),o)}(u,r+12*o):u,d=s||n?function(e,t){Pt(2,arguments);var o=Nt(e),r=kt(t);return isNaN(r)?new Date(NaN):r?(o.setDate(o.getDate()+r),o):o}(l,s+7*n):l,p=1e3*(c+60*(i+60*a));return new Date(d.getTime()+p)}function Lt(e){return Pt(1,arguments),Nt(e).getFullYear()}function wt(e){return Pt(1,arguments),Nt(e).getMonth()}function Ct(e){return Pt(1,arguments),Nt(e).getDate()}const jt=new Date,Rt=jt.getFullYear(),xt=jt.getMonth()+1,Dt=jt.getDate(),Ut=new Date(Rt,xt,Dt),Mt=Ot(Ut,{months:1}),qt=Ot(Ut,{days:-4}),Gt={name:"New project",iconURL:"./assets/category-it.svg",altText:"Category IT icon"},Vt={projectId:"1",title:"Task example 1",dueDate:`${Lt(Mt)}-${wt(Mt).toString().padStart(2,"0")}-${Ct(Mt).toString().padStart(2,"0")}`,priority:"2",description:"",notes:""},Bt={projectId:"1",title:"Task example 2",dueDate:`${Lt(qt)}-${wt(qt).toString().padStart(2,"0")}-${Ct(qt).toString().padStart(2,"0")}`,priority:"1",description:"",notes:""};class Kt{constructor(){if(Kt.instance)return Kt.instance;Kt.instance=this}start(){!function(){const e=document.querySelector(".content");if(!Z(e))return void F(de.ERROR_MODAL_CONTENT_NOT_FOUND);const t=J("div",{class:"error-cover"},e),o=J("div",{class:"error-modal"},e),r=J("div",{class:"title"},o),n=J("h3",{class:"error-heading"},r);n.textContent="";const s=J("button",{class:"exit"},r);s.ariaLabel="Exit the error modal",s.style.backgroundImage=`url(${$.taskMenuExitIconPath})`;const a=J("p",{class:"error-message"},o);a.textContent="",J("span",{class:"error-process"},o).textContent="";const i=J("div",{class:"button-box"},o),c=J("button",{class:"exit-ok"},i);function u(e){if(W(e)){if(!Z(n))return void F(de.ERROR_MODAL_HEADING_NOT_FOUND);if(!Z(a))return void F(de.ERROR_MODAL_PARA_NOT_FOUND);o.classList.remove("shown"),t.classList.remove("shown"),n.textContent="",a.textContent=""}}c.textContent="OK",s.addEventListener("click",(e=>u(e))),c.addEventListener("click",(e=>u(e)))}(),function(){const e=document.querySelector(".content");if(!Z(e))return void F(de.REMOVE_MENU_CONTENT_NOT_FOUND);const t=J("div",{class:"menu-cover"},e),o=J("div",{class:"remove-menu"},e),r=J("div",{class:"title"},o),n=J("h3",{class:"remove-heading"},r);n.textContent="";const s=J("button",{class:"exit"},r);s.ariaLabel="Exit confirmation menu",s.style.backgroundImage=`url(${$.taskMenuExitIconPath})`;const a=J("p",{class:"remove-message"},o);a.textContent="";const i=J("div",{class:"button-box"},o);J("button",{class:"remove-confirm"},i).textContent="Yes",J("button",{class:"exit"},i).textContent="Cancel";const c=o.querySelectorAll(".exit");function u(e){if(W(e)){if(!(Z(t)&&Z(o)&&Z(n)&&Z(a)))return void F(["Error (exiting the remove confirmation menu)","One or more menu components couldn't be found"]);o.classList.remove("shown"),t.classList.remove("shown"),n.textContent="",a.textContent="",o.project=null,o.task=null,o.setAttribute("data-project-id",null),o.setAttribute("data-task-id",null),o.setAttribute("data-task-action",null),o.setAttribute("data-project-action",null)}}c.forEach((e=>e.addEventListener("click",(e=>u(e))))),c.forEach((e=>e.addEventListener("keydown",(e=>u(e)))))}(),function(){const e=document.querySelector(".content");if(!Z(e))return void F(de.PROJECT_MENU_TEMPLATE_CONTENT_NOT_FOUND);const t=J("div",{class:"project-menu"},e),o=J("div",{class:"title"},t);J("h3",{class:"title-text"},o).textContent="";const r=J("button",{class:"exit"},o);r.ariaLabel="Exit project menu",r.style.backgroundImage=`url(${$.taskMenuExitIconPath})`;const n=J("form",{},t),s=J("div",{class:"title-box"},n),a=document.createElement("span");a.textContent="*",a.classList.add("asterisk-required");const i=J("label",{for:"project-name"},s);i.appendChild(document.createTextNode("Name")),i.appendChild(a),i.appendChild(document.createTextNode(":")),J("input",{type:"text",id:"project-name",name:"name",required:"required",minlength:1,maxlength:100},s);const c=document.createElement("span");c.textContent="*",c.classList.add("asterisk-required");const u=J("fieldset",{},n),l=J("legend",{},u);l.appendChild(document.createTextNode("Icon")),l.appendChild(c),l.appendChild(document.createTextNode(":"));const d=J("div",{class:"project-options"},u),p=J("div",{class:"project-icon-option",tabindex:0},d);p.ariaLabel="Category Job",p.style.backgroundImage=`url(${$.iconCategoryJobPath})`,J("label",{for:"project-category-job"},p);const g=J("input",{id:"project-category-job",type:"radio",name:"iconURL",value:"./assets/category-job.svg"},p);g.ariaRequired=!0,g.setAttribute("data-alt-text","Category Job icon");const m=J("div",{class:"project-icon-option",tabindex:0},d);m.ariaLabel="Category Study",m.style.backgroundImage=`url(${$.iconCategoryStudyPath})`,J("label",{for:"project-category-study"},m),J("input",{id:"project-category-study",type:"radio",name:"iconURL",value:"./assets/category-study.svg"},m).setAttribute("data-alt-text","Category Study icon");const T=J("div",{class:"project-icon-option",tabindex:0},d);T.ariaLabel="Category Gift",T.style.backgroundImage=`url(${$.iconCategoryGiftPath})`,J("label",{for:"project-category-gift"},T),J("input",{id:"project-category-gift",type:"radio",name:"iconURL",value:"./assets/category-gift.svg"},T).setAttribute("data-alt-text","Category Gift icon");const v=J("div",{class:"project-icon-option",tabindex:0},d);v.ariaLabel="Category International activity",v.style.backgroundImage=`url(${$.iconCategoryInternationalPath})`,J("label",{for:"project-category-international-activity"},v),J("input",{id:"project-category-international-activity",type:"radio",name:"iconURL",value:"./assets/category-international-activity.svg"},v).setAttribute("data-alt-text","Category International activity icon");const h=J("div",{class:"project-icon-option",tabindex:0},d);h.ariaLabel="Category People",h.style.backgroundImage=`url(${$.iconCategoryPeoplePath})`,J("label",{for:"project-category-people"},h),J("input",{id:"project-category-people",type:"radio",name:"iconURL",value:"./assets/category-people.svg"},h).setAttribute("data-alt-text","Category People icon");const f=J("div",{class:"project-icon-option",tabindex:0},d);f.ariaLabel="Category Science",f.style.backgroundImage=`url(${$.iconCategorySciencePath})`,J("label",{for:"project-category-science"},f),J("input",{id:"project-category-science",type:"radio",name:"iconURL",value:"./assets/category-science.svg"},f).setAttribute("data-alt-text","Category Science icon");const A=J("div",{class:"project-icon-option",tabindex:0},d);A.ariaLabel="Category IT",A.style.backgroundImage=`url(${$.iconCategoryITPath})`,J("label",{for:"project-category-it"},A),J("input",{id:"project-category-it",type:"radio",name:"iconURL",value:"./assets/category-it.svg"},A).setAttribute("data-alt-text","Category IT icon");const b=J("div",{class:"project-icon-option",tabindex:0},d);b.ariaLabel="Category Other",b.style.backgroundImage=`url(${$.iconCategoryOtherPath})`,J("label",{for:"project-category-other"},b),J("input",{id:"project-category-other",type:"radio",name:"iconURL",value:"./assets/category-other.svg"},b).setAttribute("data-alt-text","Category Other icon");const E=J("div",{class:"button-box"},n);J("button",{type:"submit",class:"submit"},E).textContent="",J("button",{class:"cancel"},E).textContent="Cancel"}(),function(){const e=document.querySelector(".content");if(!Z(e))return void F(de.TASK_MENU_TEMPLATE_CONTENT_NOT_FOUND);const t=J("div",{class:"task-menu"},e),o=J("div",{class:"title"},t),r=(J("h3",{class:"title-text"},o),J("button",{class:"exit"},o));r.ariaLabel="Exit task menu",r.style.backgroundImage=`url(${$.taskMenuExitIconPath})`;const n=J("form",{},t),s=J("div",{class:"title-box"},n),a=document.createElement("span");a.textContent="*",a.classList.add("asterisk-required");const i=J("label",{for:"task-title"},s);i.appendChild(document.createTextNode("Title")),i.appendChild(a),i.appendChild(document.createTextNode(":")),J("input",{type:"text",id:"task-title",name:"title",required:"required",minlength:1,maxlength:100},s);const c=J("div",{class:"due-date-box"},n),u=document.createElement("span");u.textContent="*",u.classList.add("asterisk-required");const l=J("label",{for:"task-dueDate"},c);l.appendChild(document.createTextNode("Due Date")),l.appendChild(u),l.appendChild(document.createTextNode(":")),J("input",{type:"date",id:"task-dueDate",name:"dueDate",required:"required"},c);const d=J("fieldset",{class:"priority"},n),p=document.createElement("span");p.textContent="*",p.classList.add("asterisk-required");const g=J("legend",{},d);g.appendChild(document.createTextNode("What is the task's priority")),g.appendChild(p),g.appendChild(document.createTextNode("?"));const m=J("div",{class:"priority-high-box"},d);J("input",{id:"priority-high",type:"radio",name:"priority",value:"2"},m).ariaRequired=!0,J("label",{for:"priority-high"},m).textContent="High";const T=J("div",{class:"priority-medium-box"},d);J("input",{id:"priority-medium",type:"radio",name:"priority",value:"1"},T),J("label",{for:"priority-medium"},T).textContent="Medium";const v=J("div",{class:"priority-normal-box"},d);J("input",{id:"priority-normal",type:"radio",name:"priority",value:"0"},v),J("label",{for:"priority-normal"},v).textContent="Normal";const h=J("div",{class:"description-box"},n);J("label",{for:"task-description"},h).textContent="Description:",J("textarea",{id:"task-description",name:"description",maxlength:"200"},h);const f=J("div",{class:"notes-box"},n);J("label",{for:"task-notes"},f).textContent="Notes:",J("textarea",{id:"task-notes",name:"notes",maxlength:"200"},f);const A=J("div",{class:"button-box"},n);J("button",{type:"submit",class:"submit"},A),J("button",{class:"cancel"},A).textContent="Cancel"}(),function(){const e=document.querySelector(".content");if(!Z(e))return void F(de.MAIN_PAGE_CONTENT_NOT_FOUND);const t=J("div",{class:"content-background-container"},e),o=(J("header",{},t),J("aside",{},t));o.setAttribute("current-group",se),J("div",{class:"sidebar-cover"},t);const r=J("main",{},t),n=(J("div",{class:"bar-types"},o),J("div",{class:"bar-projects"},o));J("div",{class:"header"},n),J("ul",{class:"projects-list"},n),J("button",{class:"bar-footer"},o),function(){const e=document.querySelector(".content-background-container");if(!Z(e))return void F(de.MAIN_PAGE_CONTENT_NOT_FOUND);const t=J("div",{class:"view-options-bar"},e),o=J("div",{class:"priority-main-box"},t);J("div",{class:"priority-header"},o).textContent="Priority:";const r=J("div",{class:"priority-border-box"},o),n=J("div",{class:"priority-high-box option-button",tabindex:0},r);J("input",{id:"view-priority-high",type:"checkbox"},n),J("div",{class:"radio-button priority-high"},n),J("label",{for:"view-priority-high"},n).textContent="High";const s=J("div",{class:"priority-medium-box option-button",tabindex:0},r);J("input",{id:"view-priority-medium",type:"checkbox"},s),J("div",{class:"radio-button priority-medium"},s),J("label",{for:"view-priority-medium"},s).textContent="Medium";const a=J("div",{class:"priority-normal-box option-button",tabindex:0},r);J("input",{id:"view-priority-normal",type:"checkbox"},a),J("div",{class:"radio-button priority-normal"},a),J("label",{for:"view-priority-normal"},a).textContent="Normal";const i=J("div",{class:"status-main-box"},t);J("div",{class:"status-header"},i).textContent="Status:";const c=J("div",{class:"status-border-box"},i),u=J("div",{class:"status-overdue-box option-button",tabindex:0},c);J("input",{id:"view-status-overdue",type:"checkbox"},u),J("div",{class:"radio-button status-overdue"},u),J("label",{for:"view-status-overdue"},u).textContent="Overdue";const l=J("div",{class:"status-ongoing-box option-button",tabindex:0},c);J("input",{id:"view-status-ongoing",type:"checkbox"},l),J("div",{class:"radio-button status-ongoing"},l),J("label",{for:"view-status-ongoing"},l).textContent="Ongoing";const d=J("div",{class:"status-completed-box option-button",tabindex:0},c);J("input",{id:"view-status-completed",type:"checkbox"},d),J("div",{class:"radio-button status-completed"},d),J("label",{for:"view-status-completed"},d).textContent="Completed";const p=J("div",{class:"sort-options-main-box"},t);J("div",{class:"sort-header"},p).textContent="Sort by:";const g=J("div",{class:"sort-options-border-box"},p),m=J("div",{class:"custom-select"},g),T=J("select",{name:"sort-by"},m);J("option",{value:"date"},T).textContent="Date",J("option",{value:"priority"},T).textContent="Priority",J("option",{value:"status"},T).textContent="Status";const v=J("div",{class:"sort-arrow option-button",tabindex:0},g);v.style.backgroundImage=`url(${$.sortOrderIconPath})`,J("input",{type:"checkbox",id:"sort-order"},v),J("label",{class:"sort-order",for:"sort-order"},v),function(){let e,t,o,r,n,s;const a=document.getElementsByClassName("custom-select"),i=a.length;for(e=0;e<i;e+=1){const i=a[e].getElementsByTagName("select")[0];for(o=i.length,r=document.createElement("DIV"),r.setAttribute("class","select-selected"),r.setAttribute("tabindex",0),r.innerHTML=i.options[i.selectedIndex].innerHTML,a[e].appendChild(r),n=document.createElement("DIV"),n.setAttribute("class","select-items select-hide"),t=0;t<o;t+=1)s=document.createElement("DIV"),s.innerHTML=i.options[t].innerHTML,s.setAttribute("value",i.options[t].value),s.setAttribute("tabindex",0),s.addEventListener("click",(function(e){let t,o,r,n;const s=this.parentNode.parentNode.getElementsByTagName("select")[0],a=s.length,i=this.parentNode.previousSibling;for(o=0;o<a;o+=1)if(s.options[o].innerHTML===this.innerHTML){for(s.selectedIndex=o,i.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),n=t.length,r=0;r<n;r+=1)t[r].removeAttribute("class");this.setAttribute("class","same-as-selected");break}i.click()})),s.addEventListener("keydown",(function(e){"Enter"===e.code&&(e.preventDefault(),this.click(),c(this))})),n.appendChild(s);a[e].appendChild(n),r.addEventListener("click",(function(e){e.stopPropagation(),c(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})),r.addEventListener("keydown",(function(e){"Enter"===e.code&&(e.preventDefault(),this.click(),c(this))}))}function c(e){const t=[],o=document.getElementsByClassName("select-items"),r=document.getElementsByClassName("select-selected"),n=o.length,s=r.length;for(let o=0;o<s;o+=1)e===r[o]?t.push(o):r[o].classList.remove("select-arrow-active");for(let e=0;e<n;e+=1)-1===t.indexOf(e)&&o[e].classList.add("select-hide")}}()}(),J("div",{class:"header"},r),J("div",{class:"task-bar"},r),J("ul",{class:"task-list"},r)}(),function(){const e=document.querySelector("main"),t=document.querySelector("header"),o=document.querySelector("aside"),r=document.querySelector(".bar-projects"),n=document.querySelector(".bar-projects .header"),s=document.querySelector("main .task-bar"),a=document.querySelector("aside .bar-types"),i=document.querySelector(".projects-list"),c=document.querySelector("aside .bar-footer"),u=document.querySelector("main .header"),l=document.querySelector(".task-list");if(!(Z(e)&&Z(t)&&Z(o)&&Z(l)&&Z(r)&&Z(i)&&Z(a)&&Z(c)&&Z(n)&&Z(u)&&Z(s)))return void F(de.CONTENT_CONTENT_NOT_FOUND);const d=J("button",{class:"sidebar-icon"},t);d.ariaLabel="Sidebar menu",d.style.backgroundImage=`url(${$.sidebarIconPath})`;const p=J("div",{class:"heading"},t);J("img",{class:"logo",alt:"TrackIt logo"},p).src=$.logoIconPath,J("h1",{},p).textContent="TrackIt",J("div",{class:"empty"},t);const g=J("button",{class:"options"},t);g.ariaLabel="View Options",g.style.backgroundImage=`url(${$.viewOptionsIconPath})`;const m=J("button",{class:"tasks-all"},a);m.setAttribute("data-group-id",ce.ALL),J("img",{alt:"All tasks",src:$.tasksAllImagePath},m),J("span",{},m).textContent="All";const T=J("button",{class:"tasks-today"},a);T.setAttribute("data-group-id",ce.TODAY),J("img",{alt:"Tasks today",src:$.tasksTodayImagePath},T),J("span",{},T).textContent="Today";const v=J("button",{class:"tasks-week"},a);v.setAttribute("data-group-id",ce.WEEK),J("img",{alt:"Tasks this week",src:$.tasksWeekImagePath},v),J("span",{},v).textContent="Week";const h=J("button",{class:"tasks-completed"},a);h.setAttribute("data-group-id",ce.COMPLETED),J("img",{alt:"Tasks completed",src:$.tasksCompletedImagePath},h),J("span",{},h).textContent="Completed";const f=J("button",{class:"tasks-overdue"},a);f.setAttribute("data-group-id",ce.OVERDUE),J("img",{alt:"Tasks overdue",src:$.tasksOverdueImagePath},f),J("span",{},f).textContent="Overdue",J("img",{alt:"Projects icon"},n).src=$.projectsBarHeaderImagePath,J("span",{},n).textContent="Projects",J("div",{},n);const A=J("button",{class:"add-new"},n);A.ariaLabel="Add new project",A.style.backgroundImage=`url(${$.addNewTaskIconPath})`,A.setAttribute("data-project-action",ae.ADD_NEW);const b=J("div",{class:"projects-nav"},r),E=J("button",{class:"projects-previous-page"},b);E.ariaLabel="Previous projects page",E.style.backgroundImage=`url(${$.previousPageIconPath})`,J("span",{class:"projects-pages-nums"},b);const S=J("button",{class:"projects-next-page"},b);S.ariaLabel="Next projects page",S.style.backgroundImage=`url(${$.nextPageIconPath})`;const y=J("a",{href:"https://github.com/F3GR",target:"_blank",tabindex:-1},c);J("span",{},y).textContent="F3GR, 2023",J("img",{alt:"All tasks icon"},u).src=$.tasksAllImagePath,J("h2",{},u).textContent=`${se.charAt(0).toUpperCase()}${se.slice(1)}`;const I=J("div",{class:"task-number"},s);J("span",{},I).textContent="Tasks";const _=J("button",{class:"add-new"},s);_.ariaLabel="Add new task",_.style.backgroundImage=`url(${$.addNewTaskIconPath})`,_.setAttribute("data-task-action",ie.ADD_NEW);const k=J("div",{class:"page-menu"},e),P=J("button",{class:"tasks-previous-page"},k);P.ariaLabel="Previous tasks page",P.style.backgroundImage=`url(${$.previousPageIconPath})`,J("span",{class:"tasks-pages-nums"},k);const N=J("button",{class:"tasks-next-page"},k);N.ariaLabel="Next tasks page",N.style.backgroundImage=`url(${$.nextPageIconPath})`}(),function(e){const t=document.querySelector("header > .sidebar-icon"),o=document.querySelector("aside"),r=document.querySelector(".sidebar-cover"),n=document.querySelector(".bar-types"),s=document.querySelector(".projects-list");Z(t)&&Z(o)&&Z(r)&&Z(n)&&Z(s)?(t.addEventListener("click",(e=>function(e){W(e)&&(o.classList.toggle("shown"),r.classList.toggle("shown"))}(e))),n.addEventListener("click",(t=>We(t,e))),s.addEventListener("click",(t=>We(t,e))),s.addEventListener("keydown",(t=>We(t,e)))):F(Ce.SIDEBAR_ELEMENTS)}(this),at(this),function(e){const{inputPriorityHigh:t,inputPriorityMedium:o,inputPriorityNormal:r,inputStatusOnGoing:n,inputStatusCompleted:s,inputStatusOverdue:a,inputSortAscendingOrder:i,viewOptionsIcon:c,viewBox:u,toggleBoxes:l,customSelectBox:d}=Ye(),{taskList:p}=function(){if(Ze)return Ze;const e=document.querySelector(".content main"),t=document.querySelector(".content main ul.task-list");return Ze={main:e,taskList:t},Ze}(),g=document.querySelector(".view-options-bar .custom-select > select");if(!Z(p))return void F(et.TASK_LIST_PANEL);if(!(Z(t)&&Z(o)&&Z(r)&&Z(n)&&Z(s)&&Z(a)&&Z(i)&&Z(g)))return void F(et.OPTIONS_NODES);if(!(Q(t.checked)&&Q(o.checked)&&Q(r.checked)&&Q(n.checked)&&Q(s.checked)&&Q(a.checked)))return void F(et.FILTER_VALUES);if(!Q(i.checked))return void F(et.SORT_ORDER_VALUE);if(!Object.values(ue).includes(g.value))return void F(et.SORT_OPTION_VALUE);const m={taskList:p,inputPriorityHigh:t,inputPriorityMedium:o,inputPriorityNormal:r,inputStatusOverdue:a,inputStatusOnGoing:n,inputStatusCompleted:s,selectSortOptions:g,inputSortAscendingOrder:i};c.addEventListener("click",(e=>function(e){W(e)&&u.classList.toggle("shown")}(e))),d.addEventListener("click",(t=>tt(t,m,e))),d.addEventListener("keydown",(t=>tt(t,m,e))),l.forEach((t=>t.addEventListener("click",(t=>ot(t,m,e))))),l.forEach((t=>t.addEventListener("keydown",(t=>ot(t,m,e)))))}(this),function(e){const{main:t,form:o,exitButton:r,cancelButton:n,removeConfirm:s,removeMenu:a}=Se();function i(t){if(W(t)){const o=t.target.closest(".task label");if(Z(o)){const t=o.getAttribute("data-task-action");if(!ee(t))return;dt(t,o,e)}}}Z(t)&&Z(o)&&Z(r)&&Z(n)&&Z(a)&&Z(s)?(t.addEventListener("click",(t=>function(t){if(W(t)){const o=t.target.closest(".task button, .task-bar .add-new");if(Z(o)){const t=o.getAttribute("data-task-action");if(!ee(t))return;if(!Object.values(ie).includes(t))return void F(ke.DEFAULT_ACTION);dt(t,o,e)}}}(t))),t.addEventListener("click",(e=>i(e))),t.addEventListener("keydown",(e=>i(e))),o.addEventListener("submit",(t=>((e,t)=>{e.preventDefault();const{menu:o,titleInput:r,dueDateInput:n,descriptionInput:s,notesInput:a,taskList:i}=Se(),c=document.querySelectorAll('.task-menu input[name="priority"]'),u=o.getAttribute("data-task-action"),l=o.getAttribute("data-project-id"),d=Number(i.getAttribute("current-tasks-page"));if(Z(o)||F(ke.NO_TASK_MENU_SUBMIT),!Z(i))return void F(ke.ACTION_SUBMITTING_PROJECT_LIST_PANEL);if(Z(r)&&Z(n)&&Z(s)&&Z(a)&&X(c)||F(ke.TASK_MENU_PANEL_SUBMIT),!ee(u)||!ee(l)||!ee(d))return void F(ke.NO_PROJECT_ID_OR_ACTION);const p=document.querySelector('.task-menu input[name="priority"]:checked');if(ee(r)&&ee(n)&&ee(p)){switch(u){case ie.ADD_NEW:{const e={projectId:l,title:r.value,dueDate:n.value,priority:p.value,description:s.value,notes:a.value};let o;try{o=t.createNewTask(e,d)}catch(e){return void F([ke.ACTION_ADDING_TASK[0],e.message,ke.ACTION_ADDING_TASK[2]])}const{newTask:i,currentPageLength:c}=o;if(!Y(o))return void F(["Invalid input (task title)","A task with the this title already exists in the project!",""]);c<6&&Pe(i);break}case ie.EDIT:{const e=o.getAttribute("data-task-id"),i=`.task[data-project-id="${l}"][data-task-id="${e}"]`,c=document.querySelector(i),u=document.querySelector(`${i} .task-project-name`),d=document.querySelector(`${i} .task-title`),g=document.querySelector(`${i} .task-due-date span`),m=document.querySelector(`${i} .task-description`),T=document.querySelector(`${i} .task-notes`);if(!ee(e))return void F(ke.TASK_ID_EDITING);if(!(Z(c)&&Z(d)&&Z(g)&&Z(m)&&Z(T)))return void F(ke.TASK_MENU_PANEL_EDITING);const v={projectName:u.textContent,projectId:l,taskId:e,title:r.value,dueDate:n.value,priority:p.value,description:s.value,notes:a.value};let h;try{h=t.editTask(v)}catch(e){return void F([ke.ACTION_EDITING_TASK[0],e.message,ke.ACTION_EDITING_TASK[2]])}if(!Y(h))return void F(["Invalid input (task title)","A task with the this title already exists in the project!",""]);c.setAttribute("data-task-priority",`${p.value}`),d.textContent=r.value,g.textContent=n.value,m.textContent=s.value,T.textContent=a.value,lt(c);break}default:F(ke.DEFAULT_ACTION)}ut(e)}else F(["Invalid input (empty field(s))","One or more of the required fields' values are empty!",""])})(t,e))),s.addEventListener("click",(t=>{if(W(t)){const o=a.getAttribute("data-task-action");o&&"null"!==o&&(((e,t)=>{const{removeMenu:o,removeConfirm:r,removeHeading:n,removeMessage:s,taskList:a,sidebar:i}=Se();if(!(Z(o)&&Z(r)&&Z(n)&&Z(s)))return void F(ke.TASK_MENU_REMOVING);if(!Z(a))return void F(ke.ACTION_REMOVING_TASKS_LIST);if(!Z(i))return void F(ke.ACTION_REMOVING_SIDEBAR);const c=Number(a.getAttribute("current-tasks-page"));if(!ee(c))return void F(ke.ACTION_REMOVING_TASKS_LIST);const u=i.getAttribute("current-group");if(!ee(u))return void F(ke.ACTION_REMOVING_SIDEBAR);const l=a.querySelectorAll(".task");if(!X(l))return void F(ke.ACTION_REMOVING_TASKS_NODES);const{task:d}=o,p=o.getAttribute("data-project-id"),g=o.getAttribute("data-task-id");if(!Z(d)||!ee(p)||!ee(g)||"null"===p||"null"===g)return void F(ke.TASK_REMOVING);let m;try{m=t.removeTask(p,g,c,l.length)}catch(e){return void F([ke.ACTION_REMOVING_TASK[0],e.message,ke.ACTION_REMOVING_TASK[2]])}const{newTasksPageView:T}=m;a.innerHTML="",je(T,u),o.task=null,o.setAttribute("data-project-id",null),o.setAttribute("data-task-id",null),o.setAttribute("data-task-action",null),n.textContent="",s.textContent=""})(0,e),H(t))}})),r.addEventListener("click",(e=>{W(e)&&ut(e)})),n.addEventListener("click",(e=>{W(e)&&ut(e)}))):F(ke.TASK_MENU_RENDERING)}(this),function(e){const{prevPageBtn:t,nextPageBtn:o}=Ve();t.addEventListener("click",(t=>function(e,t){const{projectsList:o,prevPageBtn:r,nextPageBtn:n}=Ve();if(W(e)){if(!Z(r)||!Z(n))return void F(Je.PROJECTS_BAR);if(!Z(o))return void F(Je.PROJECTS_LIST);const e=parseInt(o.getAttribute("current-projects-page"),10);if(!ee(e))return void F(Je.PROJECTS_NAV);let s;try{s=t.moveProjectsPageBackwards(e)}catch(e){return void F([Je.PREV_PROJECTS_PAGE[0],e.message,Je.PREV_PROJECTS_PAGE[2]])}if(e===s.newPageNumber)return;o.innerHTML="",s.newPage.forEach((e=>be(e)))}}(t,e))),o.addEventListener("click",(t=>function(e,t){const{projectsList:o,prevPageBtn:r,nextPageBtn:n}=Ve();if(W(e)){if(!Z(r)||!Z(n))return void F(Je.PROJECTS_BAR);if(!Z(o))return void F(Je.PROJECTS_LIST);const e=parseInt(o.getAttribute("current-projects-page"),10);if(!ee(e))return void F(Je.PROJECTS_NAV);let s;try{s=t.moveProjectsPageForward(e)}catch(e){return void F([Je.NEXT_PROJECTS_PAGE[0],e.message,Je.NEXT_PROJECTS_PAGE[2]])}if(e===s.newPageNumber)return;o.innerHTML="",s.newPage.forEach((e=>be(e)))}}(t,e)))}(this),function(e){const{prevPageBtn:t,nextPageBtn:o}=Be();t.addEventListener("click",(t=>function(e,t){if(W(e)){const{tasksList:e,prevPageBtn:o,nextPageBtn:r}=Be();if(!Z(o)||!Z(r))return void F(Je.TASKS_BAR);if(!Z(e))return void F(Je.TASKS_LIST);const n=parseInt(e.getAttribute("current-tasks-page"),10);if(!ee(n))return void F(Je.PROJECTS_NAV);let s;try{s=t.moveTasksPageBackwards(n)}catch(e){return void F([Je.PREV_TASKS_PAGE[0],e.message,Je.PREV_TASKS_PAGE[2]])}if(n===s.newPageNumber)return;e.innerHTML="",s.newPage.forEach((e=>Pe(e)))}}(t,e))),o.addEventListener("click",(t=>function(e,t){if(W(e)){const{tasksList:e,prevPageBtn:o,nextPageBtn:r}=Be();if(!Z(o)||!Z(r))return void F(Je.TASKS_BAR);if(!Z(e))return void F(Je.TASKS_LIST);const n=parseInt(e.getAttribute("current-tasks-page"),10);if(!ee(n))return void F(Je.PROJECTS_NAV);let s;try{s=t.moveTasksPageForward(n)}catch(e){return void F([Je.NEXT_TASKS_PAGE[0],e.message,Je.NEXT_TASKS_PAGE[2]])}if(n===s.newPageNumber)return;e.innerHTML="",s.newPage.forEach((e=>Pe(e)))}}(t,e)))}(this),function(e){const t=e.getViewState(),{flagIncludeHigh:o,flagIncludeMedium:r,flagIncludeNormal:n,flagIncludeOverdue:s,flagIncludeOnGoing:a,flagIncludeCompleted:i,sortBy:c,ascendingOrder:u}=t,{inputPriorityHigh:l,inputPriorityMedium:d,inputPriorityNormal:p,inputStatusOnGoing:g,inputStatusCompleted:m,inputStatusOverdue:T,inputSortAscendingOrder:v}=Ye(),h=document.querySelector(".view-options-bar select");Z(l)&&Z(d)&&Z(p)&&Z(g)&&Z(m)&&Z(T)&&Z(v)&&Z(h)?Q(o)&&Q(r)&&Q(n)&&Q(a)&&Q(i)&&Q(s)?Q(u)?Object.values(ue).includes(c)?(l.checked=o,d.checked=r,p.checked=n,T.checked=s,g.checked=a,m.checked=i,h.value=c,v.checked=u):F(ze.SORT_OPTION_VALUE):F(ze.SORT_ORDER_VALUE):F(ze.FILTER_VALUES):F(ze.OPTIONS_NODES)}(this);let{projectsList:e,listStored:t}=Et.getProjectsList();if(!t){Et.setProjectId(1),this.createNewProject(Gt,1);const t=1;Et.setTaskId(Number(t)),this.createNewTask(Vt,1),Et.setTaskId(Number(t)+1),this.createNewTask(Bt,1),Et.setTaskId(Number(t)+2);const{projectsList:o}=Et.getProjectsList();e=o}Ue(e.length),console.log("Before forEach:",e),yt.getPageItems(1,e).forEach((e=>be(e))),Fe(1,yt.pagesTotal(e)),Et.setCurrentGroupIdentifier(se);const o=Et.getCurrentGroupIdentifier(),r=this.applyViewOptions(Et.getViewState(),this.getTasksGroup(o),1);Me(r.length),He(1,It.pagesTotal(r)),je(It.getPageItems(1,r),o),function(){const e=document.querySelector(".project-menu"),t=document.querySelector(".project-menu #project-name"),o=document.querySelector(".task-menu"),r=document.querySelector(".task-menu #task-title"),n=document.querySelector(".remove-menu"),s=document.querySelector(".remove-menu .button-box .exit"),a=document.querySelector(".error-modal"),i=document.querySelector(".error-modal .button-box .exit-ok");if(!(Z(e)&&Z(o)&&Z(n)&&Z(a)&&Z(t)&&Z(r)&&Z(s)&&Z(i)))return void F(["Application error","One or more of the menus components couldn't be found","Process: applying the observer modules on the menus"]);const c=e=>e.focus(),u=e=>"none"!==window.getComputedStyle(e).getPropertyValue("display");let l=!1,d=!1,p=!1,g=!1;const m=new MutationObserver((()=>{u(e)&&!l?(c(t),l=!0):l=!1})),T=new MutationObserver((()=>{u(o)&&!d?(c(r),d=!0):d=!1})),v=new MutationObserver((()=>{u(n)&&!p?(c(s),p=!0):p=!1})),h=new MutationObserver((()=>{u(a)&&!g?(c(i),g=!0):g=!1}));m.observe(e,{subtree:!0,childList:!0}),T.observe(o,{subtree:!0,childList:!0}),v.observe(n,{subtree:!0,childList:!0}),h.observe(a,{subtree:!0,childList:!0})}()}createNewProject(e,t){const{projectsList:o}=Et.getProjectsList();console.log("Before creating a new project (project List):",localStorage.getItem("TrackIt: projects-list"));const r=yt.getPageItems(t,o).length,n=Et.getProjectId(),s=((e,t,o)=>{const{name:r,iconURL:n,altText:s}=o;if(!Array.isArray(t))throw new Error(he.PROJECT_LIST);if(!r||!n||!s)throw new Error(he.PROJECT_DATA);if(!te(t,r,""))return-1;const a=new pt(e,r,n,s);return[...t,a]})(n,o,e);if(-1===s)return-1;Et.setProjectId(Number(n)+1);const a=s.length,i=s[a-1];return console.log("New project:",i),Et.setProjectsList(s),Et.addTaskList(i.id),console.log("After (project List):",localStorage.getItem("TrackIt: projects-list")),console.log("After (new task List):",localStorage.getItem(`TrackIt: ${i.id}`)),Ue(a),Fe(t,yt.pagesTotal(s)),{newProject:i,currentPageLength:r}}editProject(e){const{projectsList:t}=Et.getProjectsList();console.log("Before (editing):",localStorage.getItem("TrackIt: projects-list"));const o=((e,t)=>{const{id:o,name:r,iconURL:n,altText:s}=t;if(!Array.isArray(e))throw new Error(he.PROJECT_LIST);if(!ee(o))throw new Error(he.INVALID_INDEX);if(!r||!n||!s)throw new Error(he.PROJECT_DATA);const a=re(e,o);if(!ee(a))throw new Error(he.NO_INDEX);if(!te(e,r,o))return-1;const i=[...e],c=i[a];return c.name!==r&&(c.name=r),c.iconURL!==n&&(c.iconURL=n),c.altText!==s&&(c.altText=s),{editedProjectsList:i,editedProject:c}})(t,e);if(-1===o)return-1;const{editedProjectsList:r,editedProject:n}=o;console.log("Edited project:",n),Et.setProjectsList(r);const s=((e,t)=>{if(!Array.isArray(e))throw new Error(Ie.TASK_LIST);if(!ee(t))throw new Error(Ie.TASK_DATA);const o=[...e];return o.forEach((e=>e.projectName=t)),o})(Et.getTasksListByProjectId(n.id),n.name);return Et.setTasksListByProjectId(n.id,s),console.log("After:",localStorage.getItem("TrackIt: projects-list")),n}removeProject(e,t,o,r){let n=t;const{projectsList:s}=Et.getProjectsList();console.log("Before deleting a project (project List):",localStorage.getItem("TrackIt: projects-list")),1===o&&(n-=1);const{editedProjectsList:a,removedId:i}=((e,t)=>{if(!Array.isArray(e))throw new Error(he.PROJECT_LIST);if(!ee(t))throw new Error(he.INVALID_INDEX);const o=re(e,t);if(!ee(o))throw new Error(he.NO_INDEX);const r=[...e];return r.splice(o,1),{editedProjectsList:r,removedId:t}})(s,e);console.log("Removed task List:",localStorage.getItem(`TrackIt: ${i}`)),Et.removeTaskList(i),Et.setProjectsList(a),console.log("After:",localStorage.getItem("TrackIt: projects-list"));const c=this.getViewState(),u=this.applyViewOptions(c,this.getTasksGroup(r)),l=yt.getPageItems(n,a),d=It.getPageItems(1,u);return Ue(a.length),Me(u.length),Fe(n,yt.pagesTotal(a)),He(1,It.pagesTotal(u)),{newTasksPageView:d,newProjectsPageView:l}}createNewTask(e,t){const{projectId:o}=e,r=Et.getProjectName(o),n=Et.getTasksListByProjectId(o);console.log("Before tasklist:",localStorage.getItem(`TrackIt: ${o}`));const s=It.getPageItems(t,n).length,a=Et.getTaskId(),i=((e,t,o,r)=>{const{projectId:n,title:s,dueDate:a,priority:i,description:c,notes:u}=r;if(!Array.isArray(t))throw new Error(Ie.TASK_LIST);if(!(o&&ee(n)&&s&&a&&i&&void 0!==c&&void 0!==u))throw new Error(Ie.TASK_DATA);if(!oe(t,s))return-1;let l="1";l=mt(l,Date.parse(a));const d=new gt(e,n,s,a,i,c,u,o,l);return{newTasksList:[...t,d],newTask:d}})(a,n,r,e);if(-1===i)return-1;const{newTasksList:c,newTask:u}=i;return Et.setTaskId(Number(a)+1),console.log("Created task:",u),Et.setTasksListByProjectId(o,c),console.log("After tasklist:",localStorage.getItem(`TrackIt: ${o}`)),Me(c.length),He(t,It.pagesTotal(c)),{newTask:u,currentPageLength:s}}editTask(e){const{projectId:t}=e,o=Et.getTasksListByProjectId(t);console.log("Before tasklist:",localStorage.getItem(`TrackIt: ${t}`));const r=((e,t)=>{const{projectName:o,taskId:r,projectId:n,title:s,dueDate:a,priority:i,description:c,notes:u}=t;if(!Array.isArray(e))throw new Error(Ie.TASK_LIST);if(!(o&&ee(n)&&ee(r)&&s&&a&&i&&void 0!==c&&void 0!==u))throw new Error(Ie.TASK_DATA);const l=re(e,r);if(!ee(l))throw new Error(Ie.NO_INDEX);if(!oe(e,s,r))return-1;const d={...e[l]},p=[...e];return d.title!==s&&(d.title=s),d.dueDate!==a&&(d.dueDate=a),"0"!==d.status&&(d.status=mt(d.status,Date.parse(d.dueDate))),d.priority!==i&&(d.priority=i),d.description!==c&&(d.description=c),d.notes!==u&&(d.notes=u),p.splice(l,1,d),{editedTasksList:p,editedTask:d}})(o,e);if(-1===r)return-1;const{editedTasksList:n,editedTask:s}=r;return console.log("Edited task:",s),Et.setTasksListByProjectId(t,n),console.log("After tasklist:",localStorage.getItem(`TrackIt: ${t}`)),s}toggleTaskStatus(e,t){const o=Et.getTasksListByProjectId(e);console.log("Before tasklist:",localStorage.getItem(`TrackIt: ${e}`));const{editedTasksList:r,editedStatus:n}=((e,t)=>{if(!Array.isArray(e))throw new Error(Ie.TASK_LIST);if(!ee(t))throw new Error(Ie.TASK_DATA);const o=re(e,t);if(!ee(o))throw new Error(Ie.NO_INDEX);const r={...e[o]},n=[...e];if(r.status===le){const e="1";r.status=mt(e,Date.parse(r.dueDate))}else r.status=le;const s=r.status;return n.splice(o,1,r),{editedTasksList:n,editedStatus:s}})(o,t);return Et.setTasksListByProjectId(e,r),console.log("After tasklist:",localStorage.getItem(`TrackIt: ${e}`)),n}removeTask(e,t,o,r){let n=o;const s=Et.getTasksListByProjectId(e);console.log("Before tasklist:",localStorage.getItem(`TrackIt: ${e}`)),1===r&&(n-=1);const{editedTaskList:a}=((e,t)=>{if(!Array.isArray(e))throw new Error(Ie.TASK_LIST);if(!ee(t))throw new Error(Ie.TASK_DATA);const o=re(e,t);if(!ee(o))throw new Error(Ie.NO_INDEX);const r=[...e];return r.splice(o,1),{editedTaskList:r,taskId:t}})(s,t);Et.setTasksListByProjectId(e,a),console.log("After tasklist:",localStorage.getItem(`TrackIt: ${e}`));const i=this.getViewState(),c=this.applyViewOptions(i,null,n),u=It.getPageItems(n,c);return Me(c.length),He(n,It.pagesTotal(a)),{newTasksPageView:u}}getTasksGroup(e){let t;if(Object.values(ce).includes(e)){t=((e,t)=>{if(!Array.isArray(e))throw new Error(Le.TASK_LIST);switch(t){case ce.ALL:return e;case ce.TODAY:return Tt(e);case ce.WEEK:return vt(e);case ce.COMPLETED:return ht(e,le);case ce.OVERDUE:return ht(e,"2");default:throw new Error(Le.DEFAULT_ID)}})(Et.getAllTasks(),e)}else t=Et.getTasksListByProjectId(e);return console.log("Selected group:",t),Et.setCurrentGroupIdentifier(e),t}getViewState(){return Et.getViewState()}applyViewOptions(e,t,o){Et.setViewState(e),t||(t=this.getTasksGroup(Et.getCurrentGroupIdentifier()));const r=((e,t)=>{const{flagIncludeHigh:o,flagIncludeMedium:r,flagIncludeNormal:n,flagIncludeOnGoing:s,flagIncludeCompleted:a,flagIncludeOverdue:i}=t;if(!Array.isArray(e))throw new Error(Qe.TASK_GROUP);if(!(Q(o)&&Q(r)&&Q(n)&&Q(s)&&Q(a)&&Q(i)))throw new Error(Qe.FILTER_VALUES);return e.filter((e=>{switch(e.priority){case"2":return o;case"1":return r;case"0":return n;default:throw new Error(Qe.FILTER_VALUES)}})).filter((e=>{switch(e.status){case"1":return s;case le:return a;case"2":return i;default:throw new Error(Qe.FILTER_VALUES)}}))})(t,e),n=((e,t)=>{const{sortBy:o,ascendingOrder:r}=t;if(!Array.isArray(e))throw new Error(Qe.TASK_GROUP);if(!Q(r))throw new Error(Qe.SORT_ORDER_VALUE);switch(o){case ue.DATE:return ft(e,r);case ue.PRIORITY:return At(e,r);case ue.STATUS:return bt(e,r);default:throw new Error(Qe.SORT_OPTION_VALUE)}})(r,e);let s;return Me(n.length),o?(He(o,It.pagesTotal(n)),n):(s=It.getPageItems(1,n),He(1,It.pagesTotal(n)),s)}moveProjectsPageForward(e){const{projectsList:t}=Et.getProjectsList(),{newPageNumber:o,newPage:r}=yt.movePageForward(e,t);return Fe(o,yt.pagesTotal(t)),{newPage:r,newPageNumber:o}}moveProjectsPageBackwards(e){const{projectsList:t}=Et.getProjectsList(),{newPageNumber:o,newPage:r}=yt.movePageBackwards(e,t);return Fe(o,yt.pagesTotal(t)),{newPage:r,newPageNumber:o}}moveTasksPageForward(e){const t=this.applyViewOptions(this.getViewState(),null,e),{newPageNumber:o,newPage:r}=It.movePageForward(e,t);return He(o,It.pagesTotal(t)),{newPage:r,newPageNumber:o}}moveTasksPageBackwards(e){const t=this.applyViewOptions(this.getViewState(),null,e),{newPageNumber:o,newPage:r}=It.movePageBackwards(e,t);return He(o,It.pagesTotal(t)),{newPage:r,newPageNumber:o}}}(new Kt).start()}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={id:e,exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,o,n,s)=>{if(!o){var a=1/0;for(l=0;l<e.length;l++){for(var[o,n,s]=e[l],i=!0,c=0;c<o.length;c++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](o[c])))?o.splice(c--,1):(i=!1,s<a&&(a=s));if(i){e.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,n,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0,532:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,[a,i,c]=o,u=0;if(a.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var l=c(r)}for(t&&t(o);u<a.length;u++)s=a[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},o=self.webpackChunkto_do_list=self.webpackChunkto_do_list||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),r.nc=void 0;var n=r.O(void 0,[532],(()=>r(969)));n=r.O(n)})();
//# sourceMappingURL=main.js.map